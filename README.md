# DBSys

### Программа для работы с файлами дампов системы тестирования ТКДА АПР-3М

Данное ПО состоит из 2 приложений - консольного и оконного. Консольное приложение реализует набор базовых комманд для оперирования файлами дампов в автоматическом режиме (или ручном из консоли). Оконное приложение же предоставляет контроль над отчётами: их генерацию, просмотр и редактирование.

В системе тестирования ТКДА АПР-3М данное ПО используется в качестве промежуточных этапов тестирования - .NET-вызовов с предустановленными параметрами.

## Принцип работы приложений

Организация файлов и их назначение:
- Для корректной работы всех приложений необходимо наличие файла **.session**, в котором хранится информация о текущем состоянии приложения, промежуточные результаты тестирования. Файл генерируется автоматически при отсутствии, а текущее состояние приложения сбрасывается.

- Файл **.users** хранит информацию обо всех сотрудниках, зарегистрированных в системе. При его утрате вход в систему будет невозможен. Однако он также генерируется автоматически на основе всех файлов дампов, расположенных в одном каталоге с приложением.

- Файлы дампов ***.db** содержат в себе всю информацию о проведённых испытаниях, а также информацию о персонале, который проводил данные испытания.

- Файлы с отчётами в формате PDF находятся в папке **reports/**

- Файлы с отладочной информацией находятся в папке **logs/**



### Набор реализованных комманд приложения DBSysCmd

```
> DBSysCmd status
```

*Прав не требует*.

Выводит информацию о текущем состоянии программы, авторизированном пользователе и текущем файле базы данных.

```
> DBSysCmd login <user-login> <user-password>
```

*Прав не требует*.

Авторизирует пользователя по введённому логину и паролю.

При попытке повторной авторизации выдает сообщение об ошибке и не производит никаких действий.

```
> DBSysCmd logout
```

*Прав не требует*.

Сбрасывает данные текущей сессии.

```
> DBSysCmd challenge (--begin | --end)
```

*Требует права тестировщика*.

Инициализирует новую последовательность тестов.

```
> DBSysCmd test <test-params>
```

*Требует права тестировщика*.

Инициализирует новый объект теста по переданным параметрам.

```
> DBSysCmd dump-use 
```

*Требует права оператора*.

Изменяет название текущего файла дампа. Создаёт новый файл, если он не существует.

```
> DBSysCmd dump-merge
```

*Требует права оператора*.

Объединяет несколько файлов дампов в один.

```
> DBSysCmd update-static
```

*Требует права оператора*.

Заполняет текущий файл дампа статическими данными из xls-таблицы.

